Object.defineProperty(exports, "__esModule", { value: true });
var core_1 = require("@angular/core");
var common_1 = require("@angular/common");
var animations_1 = require("@angular/animations");
var browser_1 = require("@angular/animations/browser");
var animations_2 = require("@angular/platform-browser/animations");
var nativescript_module_1 = require("../nativescript.module");
var renderer_1 = require("../renderer");
var animation_driver_1 = require("./animation-driver");
var utils_1 = require("../common/utils");
var ɵngcc0 = require('@angular/core');
var ɵngcc1 = require('@angular/animations/browser');
var ɵngcc2 = require('../nativescript.module');
var InjectableAnimationEngine = /** @class */ (function (_super) {
    __extends(InjectableAnimationEngine, _super);
    function InjectableAnimationEngine(doc, driver, normalizer) {
        return _super.call(this, doc.body, driver, normalizer) || this;
    }
    InjectableAnimationEngine = __decorate([ __param(0, core_1.Inject(common_1.DOCUMENT)),
        __metadata("design:paramtypes", [Object, browser_1.AnimationDriver,
            browser_1.ɵAnimationStyleNormalizer])
    ], InjectableAnimationEngine);
InjectableAnimationEngine.ɵfac = function InjectableAnimationEngine_Factory(t) { return new (t || InjectableAnimationEngine)(ɵngcc0.ɵɵinject(common_1.DOCUMENT), ɵngcc0.ɵɵinject(ɵngcc1.AnimationDriver), ɵngcc0.ɵɵinject(ɵngcc1.ɵAnimationStyleNormalizer)); };
InjectableAnimationEngine.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: InjectableAnimationEngine, factory: function (t) { return InjectableAnimationEngine.ɵfac(t); } });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(InjectableAnimationEngine, [{
        type: core_1.Injectable
    }], function () { return [{ type: Object, decorators: [{
                type: core_1.Inject,
                args: [common_1.DOCUMENT]
            }] }, { type: ɵngcc1.AnimationDriver }, { type: ɵngcc1.ɵAnimationStyleNormalizer }]; }, null); })();
    return InjectableAnimationEngine;
}(browser_1.ɵAnimationEngine));
exports.InjectableAnimationEngine = InjectableAnimationEngine;
function instantiateSupportedAnimationDriver() {
    return new animation_driver_1.NativeScriptAnimationDriver();
}
exports.instantiateSupportedAnimationDriver = instantiateSupportedAnimationDriver;
function instantiateRendererFactory(renderer, engine, zone) {
    return new animations_2.ɵAnimationRendererFactory(renderer, engine, zone);
}
exports.instantiateRendererFactory = instantiateRendererFactory;
function instantiateDefaultStyleNormalizer() {
    return new browser_1.ɵWebAnimationsStyleNormalizer();
}
exports.instantiateDefaultStyleNormalizer = instantiateDefaultStyleNormalizer;
var NativeScriptAnimationsModule = /** @class */ (function () {
    function NativeScriptAnimationsModule(parentModule) {
        // Prevents NativeScriptAnimationsModule from getting imported multiple times
        utils_1.throwIfAlreadyLoaded(parentModule, "NativeScriptAnimationsModule");
    }
    NativeScriptAnimationsModule = __decorate([ __param(0, core_1.Optional()), __param(0, core_1.SkipSelf()),
        __metadata("design:paramtypes", [NativeScriptAnimationsModule])
    ], NativeScriptAnimationsModule);
NativeScriptAnimationsModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: NativeScriptAnimationsModule });
NativeScriptAnimationsModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function NativeScriptAnimationsModule_Factory(t) { return new (t || NativeScriptAnimationsModule)(ɵngcc0.ɵɵinject(NativeScriptAnimationsModule, 12)); }, providers: [
        {
            provide: browser_1.AnimationDriver,
            useFactory: instantiateSupportedAnimationDriver
        },
        { provide: animations_1.AnimationBuilder, useClass: animations_2.ɵBrowserAnimationBuilder },
        {
            provide: browser_1.ɵAnimationStyleNormalizer,
            useFactory: instantiateDefaultStyleNormalizer
        },
        { provide: browser_1.ɵAnimationEngine, useClass: InjectableAnimationEngine },
        {
            provide: core_1.RendererFactory2,
            useFactory: instantiateRendererFactory,
            deps: [renderer_1.NativeScriptRendererFactory, browser_1.ɵAnimationEngine, core_1.NgZone]
        },
    ], imports: [[nativescript_module_1.NativeScriptModule]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NativeScriptAnimationsModule, { imports: [ɵngcc2.NativeScriptModule] }); })();
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NativeScriptAnimationsModule, [{
        type: core_1.NgModule,
        args: [{
                imports: [nativescript_module_1.NativeScriptModule],
                providers: [
                    {
                        provide: browser_1.AnimationDriver,
                        useFactory: instantiateSupportedAnimationDriver
                    },
                    { provide: animations_1.AnimationBuilder, useClass: animations_2.ɵBrowserAnimationBuilder },
                    {
                        provide: browser_1.ɵAnimationStyleNormalizer,
                        useFactory: instantiateDefaultStyleNormalizer
                    },
                    { provide: browser_1.ɵAnimationEngine, useClass: InjectableAnimationEngine },
                    {
                        provide: core_1.RendererFactory2,
                        useFactory: instantiateRendererFactory,
                        deps: [renderer_1.NativeScriptRendererFactory, browser_1.ɵAnimationEngine, core_1.NgZone]
                    },
                ]
            }]
    }], function () { return [{ type: NativeScriptAnimationsModule, decorators: [{
                type: core_1.Optional
            }, {
                type: core_1.SkipSelf
            }] }]; }, null); })();
    return NativeScriptAnimationsModule;
}());
exports.NativeScriptAnimationsModule = NativeScriptAnimationsModule;

//# sourceMappingURL=animations.module.js.map